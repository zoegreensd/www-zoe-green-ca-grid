{% assign language = cart.attributes["language"] %}{% if language == nil %}{% assign language = shop.metafields["languages"]["default"] %}{% endif %}{% if ly-type.metafields[language]['type'] %}{% assign ly_translation = ly-type.metafields[language]['type'] %}{% elsif ly-type.product.metafields[language]['type'] %}{% assign ly_translation = ly-type.product.metafields[language]['type'] %}{% if ly-title.variant %}{% if ly-title.variant.metafields[language]['title'] %}{% assign ly_translation = ly_translation | append: " - " | append: ly-title.variant.metafields[language]['title'] %}{% endif %}{% endif %}{% elsif ly-type.active != null or ly-type.links != null %}{% assign t = 'li' | append: ly-type.type %}{% assign tw = t | replace: ' ', '' %}{% if shop.metafields[language][t] %}{% assign ly_translation = shop.metafields[language][t] %}{% elsif shop.metafields[language][tw] %}{% assign ly_translation = shop.metafields[language][tw] %}{% else %}{% assign ns = 'li' | append: language %}{% assign key = ly-type.type | md5 | append: '...' | truncate: 33 | remove: '...' %}{% if shop.metafields[ns][key] %}{% assign ly_translation = shop.metafields[ns][key] %}{% else %}{% assign ly_translation = ly-type.type %}{% endif %}{% endif %}{% elsif 'type' == 'vendor' %}{% assign ns = 've' | append: language %}{% if shop.metafields[ns][ly-type.type] %}{% assign ly_translation = shop.metafields[ns][ly-type.type] %}{% else %}{% assign key = ly-type.type | md5 | append: '...' | truncate: 33 | remove: '...' %}{% if shop.metafields[ns][key] %}{% assign ly_translation = shop.metafields[ns][key] %}{% else %}{% assign ly_translation = ly-type.type %}{% endif %}{% endif %}{% elsif 'type' == 'type' %}{% assign ns = 'ty' | append: language %}{% if shop.metafields[ns][ly-type.type] %}{% assign ly_translation = shop.metafields[ns][ly-type.type] %}{% else %}{% assign key = ly-type.type | md5 | append: '...' | truncate: 33 | remove: '...' %}{% if shop.metafields[ns][key] %}{% assign ly_translation = shop.metafields[ns][key] %}{% else %}{% assign ly_translation = ly-type.type %}{% endif %}{% endif %}{% else %}{% assign ly_translation = ly-type.type %}{% endif %}