{% assign language = cart.attributes["language"] %}{% if language == nil %}{% assign language = shop.metafields["languages"]["default"] %}{% endif %}{% if ly-excerpt_or_content.metafields[language]['excerpt_or_content'] %}{% assign ly_translation = ly-excerpt_or_content.metafields[language]['excerpt_or_content'] %}{% elsif ly-excerpt_or_content.product.metafields[language]['excerpt_or_content'] %}{% assign ly_translation = ly-excerpt_or_content.product.metafields[language]['excerpt_or_content'] %}{% if ly-title.variant %}{% if ly-title.variant.metafields[language]['title'] %}{% assign ly_translation = ly_translation | append: " - " | append: ly-title.variant.metafields[language]['title'] %}{% endif %}{% endif %}{% elsif ly-excerpt_or_content.active != null or ly-excerpt_or_content.links != null %}{% assign t = 'li' | append: ly-excerpt_or_content.excerpt_or_content %}{% assign tw = t | replace: ' ', '' %}{% if shop.metafields[language][t] %}{% assign ly_translation = shop.metafields[language][t] %}{% elsif shop.metafields[language][tw] %}{% assign ly_translation = shop.metafields[language][tw] %}{% else %}{% assign ns = 'li' | append: language %}{% assign key = ly-excerpt_or_content.excerpt_or_content | md5 | append: '...' | truncate: 33 | remove: '...' %}{% if shop.metafields[ns][key] %}{% assign ly_translation = shop.metafields[ns][key] %}{% else %}{% assign ly_translation = ly-excerpt_or_content.excerpt_or_content %}{% endif %}{% endif %}{% elsif 'excerpt_or_content' == 'vendor' %}{% assign ns = 've' | append: language %}{% if shop.metafields[ns][ly-excerpt_or_content.excerpt_or_content] %}{% assign ly_translation = shop.metafields[ns][ly-excerpt_or_content.excerpt_or_content] %}{% else %}{% assign key = ly-excerpt_or_content.excerpt_or_content | md5 | append: '...' | truncate: 33 | remove: '...' %}{% if shop.metafields[ns][key] %}{% assign ly_translation = shop.metafields[ns][key] %}{% else %}{% assign ly_translation = ly-excerpt_or_content.excerpt_or_content %}{% endif %}{% endif %}{% elsif 'excerpt_or_content' == 'type' %}{% assign ns = 'ty' | append: language %}{% if shop.metafields[ns][ly-excerpt_or_content.excerpt_or_content] %}{% assign ly_translation = shop.metafields[ns][ly-excerpt_or_content.excerpt_or_content] %}{% else %}{% assign key = ly-excerpt_or_content.excerpt_or_content | md5 | append: '...' | truncate: 33 | remove: '...' %}{% if shop.metafields[ns][key] %}{% assign ly_translation = shop.metafields[ns][key] %}{% else %}{% assign ly_translation = ly-excerpt_or_content.excerpt_or_content %}{% endif %}{% endif %}{% else %}{% assign ly_translation = ly-excerpt_or_content.excerpt_or_content %}{% endif %}